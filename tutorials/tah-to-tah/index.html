<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><![endif]-->

  <title>Tah Library</title>

  <!-- css -->
  <link type="text/css" rel="stylesheet" href="http://fast.fonts.net/cssapi/a6555b0e-9541-40d2-ab30-147c200fd4db.css"/>  
  <link rel="stylesheet" href="/css/application.min.css"> 
  <link rel="stylesheet" href="/css/menubar.css">
  <link rel="stylesheet" href="/css/blogpagecss.css">

  <!-- js -->
  <script src="/js/application.min.js"></script>
  <script src="/js/widgets.js"></script>
  <!-- Mobile Specific Metas
  ================================================== -->

</head>
<body>
  <header>
    <div class="topbar">
      <div class="topbar-innerdiv">
        <div class="col-lg-5 col-md-5 col-sm-7 col-xs-7">
          <ul class="topbar-socialicons">
            <li><a href="https://www.facebook.com/pages/Tah/633568926721880" target="_blank"><i class="fa fa-facebook"></i></a></li>
            <li><a href="https://twitter.com/tah_io" target="_blank"><i class="fa fa-twitter"></i></a></li>
            <li><a href="https://instagram.com/tah-io" target="_blank"><i class="fa fa-instagram"></i></a></li>
            <li><a href="https://plus.google.com/+TahIoble/posts" target="_blank"><i class="fa fa-google-plus"></i></a></li>
            <li><a href="https://www.youtube.com/channel/UCY7RNCi0S8jQDE3BZQw5Gwg" target="_blank"><i class="fa fa-youtube"></i></a></li>
            <li><a href="https://github.com/tah-io" target="_blank"><i class="fa fa-github"></i></a></li>
          </ul>
        </div>

          <!-- <div class="col-sm-3 col-md-3 col-sm-5 col-sm-5 pull-right searchbox">
          <form id="frmSearch" class="search2" method="get" />
          <input id="keywords" size="24" placeholder="Search...">
        </div> -->
      </div>
    </div>
    <div class="logo_div">
      <div class="logo_inner_div">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
          <div class="col-xs-6 col-sm-7 col-md-4  col-lg-4 ">
            <img src="/img/header-tah-logo-for-doc-page.png" class="header-logo"/><span class="header-text">Tah Docs</span>
          </div>
          <div class="col-xs-4 col-sm-5 col-md-8 col-lg-8">
            <a href="https://www.crowdsupply.com/revealing-hour/tah-open-ble-arduino-board" target="_blank">
              <img src="/img/buy-now.png" class="cta-buy-now"/>
            </a>
          </div>
          <div id="smallNav" class="col-xs-2 col-sm-0 col-md-0 col-lg-0">
            <div id="nav-trigger">
              <span class="">&#8801;</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="menu_div_one">
      <div class="menu_innerdiv_one">
        <ul class="menu_list_one">
          <li><a href="/index.html">Home</a></li>
          <li><a href="http://tah.io/start">Getting Started</a></li>
          <li><a href="/tutorials">Tutorials</a></li>
          <li><a href="/library">Library</a></li>
          <li><a href="/showcase">Showcase</a></li>
          <li><a href="/contributing">Contributing</a></li>
          <li><a href="/apps">Apps</a></li>
          <li><a href="http://blog.tah.io">Blog</a></li>
          <li><a href="http://discuss.tah.io">Forum</a></li>
        </ul>
      </div>
    </div>
  
    <nav id="nav-mobile">
      <ul class="" style="display: none;">
        <li><a href="/index.html">Home</a></li>
        <li><a href="http://tah.io/start">Getting Started</a></li>
        <li><a href="/tutorials">Tutorials</a></li>
        <li><a href="/library">Library</a></li>
        <li><a href="/showcase">Showcase</a></li>
        <li><a href="/contributing">Contributing</a></li>
        <li><a href="/apps">Apps</a></li>
        <li><a href="http://blog.tah.io">Blog</a></li>
        <li><a href="http://discuss.tah.io">Forum</a></li>
      </ul>
    </nav>
  </header>

  <div class="container containerdocs">
    <div class="text-docs">
      <h1 class="page_heading">Tah to Tah Communication</h1>

      <p>Tah is a Bluetooth Low Energy open source development platform compatible with the Arduino.</p>

      <p>Two Tahs can talk to each other and share the data. We can build various applications based on this concept. For instance, interface some sensors with one Tah and send it to another Tah, that has the decision making abilities.</p>

      <p>In this tutorial we are going to establish a connection between two Tahs and use one Tah to control a Robot with a joystick designed with another Tah.</p>

      <h2 class="docshead2">Requirements</h2>

      <ul>
        <li>Two Tahs</li>
        <li><a href="https://www.sparkfun.com/datasheets/Components/SMD/adxl335.pdf">ADXL335</a> 3-axis accelerometer</li>
        <li><a href="http://www.ti.com/lit/ds/symlink/l293d.pdf">L293D</a> motor shield</li>
        <li>Two <a href="https://www.fairchildsemi.com/datasheets/LM/LM7805.pdf">LM7805</a> voltage regulators</li>
        <li>0.33uF, 0.1uF filter capacitors</li>
        <li>General purpose PCBs</li>
        <li>Male and female pinheads</li>
        <li>Multistand wires</li>
        <li>Spacers</li>
        <li>LDR</li>
        <li>NPN transistor SL100</li>
        <li>1K,10K resistors</li>
        <li>Three 9V HW batteries</li>
        <li>Two 100rpm 12V DC motors</li>
        <li>Two wheels</li>
        <li>One caster wheel</li>
        <li>Foam or acrylic sheet</li>
        <li>Nuts &amp; bolts</li>
        <li>Hacksaw</li>
        <li><a href="http://arduino.cc/en/Main/Software#toc2">Arduino IDE</a> installed</li>
      </ul>

      <p>This tutorial is divided into two major parts first one Tah transmitter section and other is receiver on the Robot which will control the motions of robot.</p>

      <h2 class="docshead2">Step 1</h2>

      <p>Lets first build the transmitter section with the Tah and the 3-axis accelerometer that will send commands to the receiver. Cut the PCB to mount the ADXL335 and build the LM7805 voltage regulator circuit to power up the Tah transmitter. The A0, A1 and A2 analog channels are used to interface the accelerometer.</p>

      <h2 class="docshead2">Step 2</h2>

      <p>Now lets start bulding the mechanical assembly for robot with Tah.</p>

      <p>Cut the base for the robot as per the design and mount the motors on the base of the robot and fix the wheels on the sides and the center caster wheel at the center.</p>
      
      <h2 class="docshead2">Step 3</h2>

      <p>Once the robot's mechanical assembly is ready, build it's electronic circuit. To drive the robot we need an L293D motor driver shield or you can design your own motor driver circuit as well.</p>

      <p>Build the power supply section for the Tah on the robot with LM7805 voltage regulator with filter capacitor. Four digital I/Os pins - 9, 10, 11 and 12 are used to control the DC motor. The LDR is interfaced with pin A5 of the analog channel and the power LEDs with SL100 transistor are interfaced with the digital I/O pin 4. In darkness, the front LEDs will glow.</p>

      <h2 class="docshead2">Step 4</h2>

      <p>Here we've programmed the logic for 5 different motions of the robot i.e, forward, reverse, left, right and center that can be used with the joystick designed with Tah to control the robot.</p>

      <p>Lets connect the motors and Tah with the motor shield and give a seperate 9V/12V DC power supply.</p>

      <h2 class="docshead2">Step 5</h2>

      <p>Download and <a href="http://docs.tah.io/library">install</a> the <a href="https://github.com/tah-io/Tah_Arduino_Library">Tah Arduino Library</a> onto your existing Arduino IDE. Once done, upload the <a href="https://github.com/tah-io/Tah_Arduino_Library/tree/master/examples/TahAsMaster">TahAsMaster sketch</a> onto the master Tah, and upload the <a href="https://github.com/tah-io/Tah_Arduino_Library/tree/master/examples/Test">Tah Test sketch</a> onto the slave Tah.

      In TahAsMaster, open the serial terminal and run the following command to get the MAC address of other BLE(TAH)</p>

      <p class="example_code"><pre>AT+DISC?</pre></p>

      <p>Enter this command to connect to the 0 index Tah BLE</p>
      
      <p class="example_code"><pre>AT+CONN[0]</pre></p>        
    
      <h2 class="docshead2">Step 6</h2>

      <p>Upload the <a href="https://github.com/tah-io/tutorials/blob/master/TahtoTahCommunication/TAHRobotJoystick.ino">Tah transmitter sketch</a> onto the master, and the <a href="https://github.com/tah-io/tutorials/blob/master/TahtoTahCommunication/TAHRobotSlave.ino">Tah Robot control</a> sketch onto the slave Tah.</p>

      <p>Put the Tah transmitter into the Tah joystick, plug other onto the robot and power up both Tahs. When both the Tahs are up and running, they connect immediately and joystick will start sending data to the robot.</p>
    
      <h2 class="docshead2">Step 7</h2>

      <p>Now just control the robot with the joystick by tilting it in the direction you'd like it to move and keep it horizontal to stop the robot.</p>

    </div>
  </div>

  <div class="shareable">
    <a href="https://twitter.com/intent/tweet?text=" class="share-tw"><i class="fa fa-twitter fa-3x"></i></a>
    <!-- <a href="" target="_blank" class="share-fb"><i class="fa fa-facebook fa-3x"></i></a> -->
    <a href="https://plus.google.com/share?url=https://docs.tah.io" target="_blank" class="share-gplus">
      <i class="fa fa-google-plus fa-3x"></i>
    </a>
  </div>
  <i class="fa fa-share-alt fa-3x share-btn"></i>

  <!-- <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=530380563690095&version=v2.0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>

  <div cl ass="fb-share-button" data-href="http://docs.tah.io/tutorials/tah-to-tah/" data-layout="icon"></div> -->

  <footer>
    <div class="bottombar">
      <div class="bottombar-innerdiv">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 footnote">
          &copy; Revealing Hour Creations. All rights reserved.<br/>
          The text of the Tah reference is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 License</a>.<br/>Code samples in the reference are released into the public domain.
        </div>
      </div>
    </div>
  </footer>

  <div id="totopscroller"></div>
  <script>
    $(function(){
      $('#totopscroller').totopscroller({link:'http://www.jqueryscript.net'});
    })
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-36872186-2', 'auto');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');
  </script>
  <!-- search box -->
  <!-- <script type="text/javascript"> var myHilitor; document.addEventListener("DOMContentLoaded", function()
   { myHilitor = new Hilitor2("playground"); myHilitor.setMatchType("left"); }, false); 
    document.getElementById("keywords").addEventListener("keyup", function() { myHilitor.apply(this.value); }, false);
  </script> -->
</body>
</html>
